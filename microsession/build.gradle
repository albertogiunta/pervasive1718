dependencies {
    compile project(":pubsub-adapter")
    compile project(":rest-adapter")
    compile project(":websocket-adapter")
}

task microSessionJar(type: Jar) {
    baseName = 'runMicroSession'
    manifest {
        attributes 'Implementation-Title': 'microsession',
                'Implementation-Version': 1.0,
                'Main-Class': 'MainKt'
    }
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
    archiveName gradle.ext.microSessionJarName
}